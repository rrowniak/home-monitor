# Home Monitor project

Welcome to the Home Monitor project! Our goal is to help households optimize their energy consumption and become more energy-efficient. To do this, we gather, interpret, and store various data from different sensors. This data is then analyzed and used to identify opportunities for energy savings.

In today's turbulent times, energy prices and availability are major concerns. By providing insights into energy usage patterns and offering recommendations for improvement, the Home Monitor project aims to increase awareness and help households make informed decisions about their energy consumption.

Our project is still under heavy development, but we have a roadmap of features we are working on. These include integrating with smart meters and other devices to gather data on energy usage, using weather forecasts to predict energy consumption over time, and integrating with smart grids to allow for more advanced control over energy usage. We are also focused on developing a user-friendly interface to present the collected data to end users in a clear and concise way, and adding the ability to control devices such as heat pumps.

Thank you for considering the Home Monitor project. We hope it can help you save energy and reduce costs in your household.

Power consumption example generated by InfluxDB UI:

![Power consumption example](/doc/screen1.jpg)


## Architecture

The sensors module is implemented as a Python application. There are three main responsibilities for this module:
- Talk to various sensors and get measurements
- Preprocess measurements e.g. probe every 5 seconds, integrate and sent out integrated results every 15 minutes (this is fully configurable)
- Store measurements in 3rd party data stores or queues like InfluxDB, MQTT, etc

Simplified deployment diagram:
![Architecture](/doc/architecture.png)

## Sensors
This module is responsible for gathering data from configured sensors and then the data is stored in specified data source like InfluxDB for further analysis.
In order to run the module execute the following commands:
```
$ cd sensors
$ python3 ./main.py -c ./cfg/sensors.cfg.json -o ./cfg/output.cfg.json
```
### Features
- Discovery by MAC. If your sensors are in local area network and IP addresses are dynamically allocated, you can configure your sensors using MAC addresses. The sensor module will automatically discover their IPs and establish proper communication channel.
- Sensors are fully configurable. Including probing frequency, integrating measurements. 
### Requirements
Required Python modules are listed in [requirements.txt](sensors/requirements.txt).
System requirements:
- `fping` for discovering devices in the local area network using MAC addresses
`$ sudo apt install fping`
### Supported sensors 
- Smart meter Shelly EM3